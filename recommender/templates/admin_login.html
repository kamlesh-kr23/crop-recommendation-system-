{% extends "base.html" %}
{% load static %}

{% block title %}Admin Login{% endblock %}

{% block content %}

<style>
.main-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 85vh;
}

.login-container {
    width: 90%;
    max-width: 900px;
    background: white;
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}

.left-side {
    background: url("{% static 'images/farm.jpg' %}") no-repeat center;
    background-size: cover;
    color: white;
    padding: 40px;
}

.right-side {
    padding: 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.form-control {
    height: 44px;
    padding-right: 45px;
}

.password-wrapper {
    position: relative;
}

.password-wrapper i {
    position: absolute;
    right: 15px;
    top: 70%;
    transform: translateY(-50%);
    cursor: pointer;
    color: #6c757d;
}

.btn-success {
    height: 45px;
    font-weight: 600;
}

@media (max-width: 768px) {
    .left-side {
        display: none;
    }
}
</style>

<div class="main-wrapper">
    <div class="login-container row g-0">

        <!-- LEFT PANEL -->
        <div class="col-md-5 left-side d-none d-md-flex align-items-center justify-content-center text-center">
            <div>
                <h4 class="fw-bold">Admin Panel</h4>
                <p class="mt-2 small">Secure dashboard access for authorized staff</p>
            </div>
        </div>

        <!-- RIGHT PANEL -->
        <div class="col-md-7 right-side">

            <h4 class="mb-4 fw-semibold">
                <i class="fa-solid fa-user-shield me-2"></i>Admin Login
            </h4>

            <!-- Messages -->
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags|default:'danger' }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            <form method="POST" action="{% url 'admin_login' %}" autocomplete="off">
                {% csrf_token %}

                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text"
                           name="username"
                           class="form-control"
                           placeholder="Enter Username"
                           required
                           autocomplete="username">
                </div>

                <div class="mb-3 password-wrapper">
                    <label class="form-label">Password</label>
                    <input type="password"
                           name="password"
                           id="password"
                           class="form-control"
                           placeholder="Enter Password"
                           required
                           autocomplete="current-password">
                    <i class="fa-solid fa-eye" id="toggleIcon" onclick="togglePassword()"></i>
                </div>

                <button type="submit" class="btn btn-success w-100">
                    Login
                </button>
            </form>

        </div>

    </div>
</div>

<!-- Footer -->
<footer class="bg-success text-white text-center py-3 mt-4">
    <div class="container">
        <small>
            Â© 2026 Smart Crop Recommendation | Built with Django & ML
        </small>
    </div>
</footer>

<script>
function togglePassword() {
    const password = document.getElementById("password");
    const icon = document.getElementById("toggleIcon");

    if (password.type === "password") {
        password.type = "text";
        icon.classList.remove("fa-eye");
        icon.classList.add("fa-eye-slash");
    } else {
        password.type = "password";
        icon.classList.remove("fa-eye-slash");
        icon.classList.add("fa-eye");
    }
}
</script>


{% endblock %}